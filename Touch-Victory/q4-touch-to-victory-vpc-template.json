{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": " Base VPC, Network, and HA NAT instance scaffolding. Please be aware that this template will create resources for which you will be charged.",
  "Metadata": {
    "LastUpdated": "2016-03-02",
    "UpdatedBy": "RSabounds",
    "AWS::CloudFormation::Interface": {
      "ParameterGroups": [
        {
          "Label": {
            "default": "VPC Configuration"
          },
          "Parameters": [
            "Environment",
            "InstanceTenancy",
            "EdgeType",
            "EdgeInstanceType",
            "SSHKeyPair",
            "RackerPassword"
          ]
        }
      ]
    },
    "AWS::CloudFormation::Designer": {
      "d621037c-6af2-4630-bcff-3fcd9536884b": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1530,
          "y": 90
        },
        "z": 1,
        "embeds": []
      },
      "a49d1478-f5c2-48d4-8e87-b29452afeae3": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1530,
          "y": 210
        },
        "z": 1,
        "embeds": []
      },
      "e381ad0f-65f7-43d0-be63-18762c9beaf8": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1530,
          "y": 330
        },
        "z": 1,
        "embeds": []
      },
      "a0ed6524-49e7-4e4d-89d8-386b60ae9dc8": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1530,
          "y": 450
        },
        "z": 1,
        "embeds": [],
        "isassociatedwith": [
          "e381ad0f-65f7-43d0-be63-18762c9beaf8"
        ]
      },
      "f197e3c9-4245-406d-9a92-1498a8554a95": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1530,
          "y": 570
        },
        "z": 1,
        "embeds": []
      },
      "16b8c254-c340-434d-9162-bf88db85530c": {
        "size": {
          "width": 1410,
          "height": 1410
        },
        "position": {
          "x": 60,
          "y": 90
        },
        "z": 1,
        "embeds": [
          "6518649e-8e8f-4c19-b837-a7c5f6816863",
          "6652e47e-3194-4b21-916a-f40c4ad3dc76",
          "5ee1e50b-9770-489e-8dc1-2b1f1e865b21",
          "2d8a732b-8ff5-4f58-9692-d64af939b022",
          "5d605be0-7714-45b8-9331-ba1cc3a73835",
          "6d1a34c6-4c0a-499e-b08a-4ff2b667572d",
          "80b6e294-86cc-4ce0-b731-fb7812f4dc36",
          "bf8b56ff-f4d7-4c0d-a453-0122e357d3f7",
          "5ac7dc50-72dd-435c-8a18-cca06d34af48",
          "a2466831-9c26-49f8-a3da-ff185fa1e8dd",
          "72d918ba-0475-48b7-aec3-60c343815798",
          "d686133e-7a86-4600-ac69-e51bb32577a8",
          "0adaeeff-4570-40fe-ade3-de49ea968ae5",
          "2aa76f1b-dfad-4682-b4b0-07fe7243b2af",
          "21550525-3a29-447c-ac79-36a409893e71",
          "19286c49-cc78-4dda-a80b-5ce5de6768d5",
          "99ec6553-f8ea-4f82-8b1f-a262aecb11ed",
          "a26833b3-1fee-44c6-aaa6-e829c173a474",
          "85e8b7bd-2733-4618-b5be-c8f92353f64a",
          "0037fc1b-b1c6-4f87-b59c-7e1112eb79fc",
          "22d8ceed-1beb-4945-a33e-200a8b7472b1",
          "fc11aa94-c4c1-4c47-a037-34b9104a0420",
          "867173eb-6a0d-4d14-81cd-cc821432c95e",
          "3fb873b4-1459-48c0-9dc8-e922bb064370"
        ]
      },
      "6518649e-8e8f-4c19-b837-a7c5f6816863": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 90,
          "y": 1050
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "a2e3c1af-0e4f-4195-b516-44dbc164f1a4"
        ]
      },
      "6652e47e-3194-4b21-916a-f40c4ad3dc76": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 990,
          "y": 750
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "d9a0cdf9-54da-493e-a170-0cb10ed26a57"
        ]
      },
      "5ee1e50b-9770-489e-8dc1-2b1f1e865b21": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 990,
          "y": 450
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "113e8a57-2f83-4ff6-a2c9-eb5858c4669d"
        ]
      },
      "2d8a732b-8ff5-4f58-9692-d64af939b022": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 990,
          "y": 150
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "fd73b22b-b700-4f17-b7b9-1b522402d912"
        ]
      },
      "5d605be0-7714-45b8-9331-ba1cc3a73835": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 690,
          "y": 750
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "75820cd9-b537-48be-b19d-ffb2e74adc5b"
        ]
      },
      "6d1a34c6-4c0a-499e-b08a-4ff2b667572d": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 390,
          "y": 750
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "3a3e009a-4f2d-4764-944c-de47c264c205"
        ]
      },
      "80b6e294-86cc-4ce0-b731-fb7812f4dc36": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 90,
          "y": 750
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "7c1905c1-5594-4efe-9bc0-aca88a8c8193"
        ]
      },
      "bf8b56ff-f4d7-4c0d-a453-0122e357d3f7": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 690,
          "y": 450
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "6ee74ab0-3ee4-4a00-86a8-9c4e1708d065"
        ]
      },
      "5ac7dc50-72dd-435c-8a18-cca06d34af48": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 690,
          "y": 150
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "068f7247-e3b0-4eb3-a43a-b5886dca03e3"
        ]
      },
      "a2466831-9c26-49f8-a3da-ff185fa1e8dd": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 390,
          "y": 450
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "dcc816e9-cdd9-42ac-9314-f5da12fb599b"
        ]
      },
      "bef9481d-523a-4cb2-bd48-3e86b2f35f04": {
        "source": {
          "id": "a2466831-9c26-49f8-a3da-ff185fa1e8dd"
        },
        "target": {
          "id": "5ac7dc50-72dd-435c-8a18-cca06d34af48"
        }
      },
      "72d918ba-0475-48b7-aec3-60c343815798": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 90,
          "y": 450
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "dcd3cafc-eb48-464a-962b-939de0fe4057"
        ]
      },
      "dcd3cafc-eb48-464a-962b-939de0fe4057": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 120,
          "y": 510
        },
        "z": 3,
        "parent": "72d918ba-0475-48b7-aec3-60c343815798",
        "embeds": [],
        "references": [
          "f197e3c9-4245-406d-9a92-1498a8554a95"
        ]
      },
      "7f7d631c-b5ff-4ce5-aaa2-514812209fd2": {
        "source": {
          "id": "f197e3c9-4245-406d-9a92-1498a8554a95"
        },
        "target": {
          "id": "16b8c254-c340-434d-9162-bf88db85530c"
        }
      },
      "d686133e-7a86-4600-ac69-e51bb32577a8": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 1230,
          "y": 1260
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "3ba2f689-ad4a-4b51-aa1b-3e56bbc51ebe": {
        "source": {
          "id": "6518649e-8e8f-4c19-b837-a7c5f6816863"
        },
        "target": {
          "id": "d686133e-7a86-4600-ac69-e51bb32577a8"
        }
      },
      "0adaeeff-4570-40fe-ade3-de49ea968ae5": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 1020,
          "y": 1260
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "3497a9ca-7814-404b-900b-645da8234f63": {
        "source": {
          "id": "6652e47e-3194-4b21-916a-f40c4ad3dc76"
        },
        "target": {
          "id": "0adaeeff-4570-40fe-ade3-de49ea968ae5"
        }
      },
      "2aa76f1b-dfad-4682-b4b0-07fe7243b2af": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 810,
          "y": 1260
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "8f772799-68f1-4463-80ef-9369cf10fc41": {
        "source": {
          "id": "5ee1e50b-9770-489e-8dc1-2b1f1e865b21"
        },
        "target": {
          "id": "2aa76f1b-dfad-4682-b4b0-07fe7243b2af"
        }
      },
      "21550525-3a29-447c-ac79-36a409893e71": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 600,
          "y": 1260
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "ef21ca01-9de4-444f-b880-614acbc4027b": {
        "source": {
          "id": "2d8a732b-8ff5-4f58-9692-d64af939b022"
        },
        "target": {
          "id": "21550525-3a29-447c-ac79-36a409893e71"
        }
      },
      "19286c49-cc78-4dda-a80b-5ce5de6768d5": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 390,
          "y": 1260
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "cb1075be-ce2e-4209-81f8-6fc17ae4f31b": {
        "source": {
          "id": "5d605be0-7714-45b8-9331-ba1cc3a73835"
        },
        "target": {
          "id": "19286c49-cc78-4dda-a80b-5ce5de6768d5"
        }
      },
      "99ec6553-f8ea-4f82-8b1f-a262aecb11ed": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 1230,
          "y": 1050
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "babd9d89-0c35-49b5-b472-aaabb541ca85": {
        "source": {
          "id": "6d1a34c6-4c0a-499e-b08a-4ff2b667572d"
        },
        "target": {
          "id": "99ec6553-f8ea-4f82-8b1f-a262aecb11ed"
        }
      },
      "a26833b3-1fee-44c6-aaa6-e829c173a474": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 1020,
          "y": 1050
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "7aa8b3a1-b6a3-44a0-bbba-88d03a8edb01": {
        "source": {
          "id": "80b6e294-86cc-4ce0-b731-fb7812f4dc36"
        },
        "target": {
          "id": "a26833b3-1fee-44c6-aaa6-e829c173a474"
        }
      },
      "85e8b7bd-2733-4618-b5be-c8f92353f64a": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 810,
          "y": 1050
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "7b685e4e-9f52-4bf7-8723-800598984df5": {
        "source": {
          "id": "bf8b56ff-f4d7-4c0d-a453-0122e357d3f7"
        },
        "target": {
          "id": "85e8b7bd-2733-4618-b5be-c8f92353f64a"
        }
      },
      "0037fc1b-b1c6-4f87-b59c-7e1112eb79fc": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 600,
          "y": 1050
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "61d9aa12-288f-48a2-9399-dcbd81220e8d": {
        "source": {
          "id": "5ac7dc50-72dd-435c-8a18-cca06d34af48"
        },
        "target": {
          "id": "0037fc1b-b1c6-4f87-b59c-7e1112eb79fc"
        }
      },
      "22d8ceed-1beb-4945-a33e-200a8b7472b1": {
        "size": {
          "width": 150,
          "height": 150
        },
        "position": {
          "x": 390,
          "y": 1050
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": []
      },
      "fc11aa94-c4c1-4c47-a037-34b9104a0420": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1290,
          "y": 150
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [],
        "isrelatedto": [
          "22d8ceed-1beb-4945-a33e-200a8b7472b1",
          "0037fc1b-b1c6-4f87-b59c-7e1112eb79fc",
          "85e8b7bd-2733-4618-b5be-c8f92353f64a",
          "a26833b3-1fee-44c6-aaa6-e829c173a474",
          "99ec6553-f8ea-4f82-8b1f-a262aecb11ed",
          "19286c49-cc78-4dda-a80b-5ce5de6768d5",
          "21550525-3a29-447c-ac79-36a409893e71",
          "2aa76f1b-dfad-4682-b4b0-07fe7243b2af",
          "0adaeeff-4570-40fe-ade3-de49ea968ae5",
          "d686133e-7a86-4600-ac69-e51bb32577a8"
        ]
      },
      "3086af09-86c7-4796-a581-56069ad48b4a": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1530,
          "y": 690
        },
        "z": 1,
        "embeds": [],
        "ismemberof": [
          "fc11aa94-c4c1-4c47-a037-34b9104a0420"
        ],
        "isrelatedto": [
          "a0ed6524-49e7-4e4d-89d8-386b60ae9dc8"
        ]
      },
      "b6f10421-aeac-4a14-850f-aa17a027daf0": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1530,
          "y": 810
        },
        "z": 1,
        "embeds": [],
        "ismemberof": [
          "fc11aa94-c4c1-4c47-a037-34b9104a0420"
        ],
        "isrelatedto": [
          "a0ed6524-49e7-4e4d-89d8-386b60ae9dc8"
        ]
      },
      "bddbaa63-a149-4a96-b4cb-85f3c8dc709d": {
        "source": {
          "id": "a2466831-9c26-49f8-a3da-ff185fa1e8dd"
        },
        "target": {
          "id": "22d8ceed-1beb-4945-a33e-200a8b7472b1"
        }
      },
      "867173eb-6a0d-4d14-81cd-cc821432c95e": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 390,
          "y": 150
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "b40d7d95-ee6c-4641-9fb1-9c9e4f6cf996"
        ]
      },
      "b40d7d95-ee6c-4641-9fb1-9c9e4f6cf996": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 420,
          "y": 210
        },
        "z": 3,
        "parent": "867173eb-6a0d-4d14-81cd-cc821432c95e",
        "embeds": [],
        "isrelatedto": [
          "d621037c-6af2-4630-bcff-3fcd9536884b"
        ]
      },
      "a2e3c1af-0e4f-4195-b516-44dbc164f1a4": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 120,
          "y": 1110
        },
        "z": 3,
        "parent": "6518649e-8e8f-4c19-b837-a7c5f6816863",
        "embeds": [],
        "isrelatedto": [
          "b40d7d95-ee6c-4641-9fb1-9c9e4f6cf996"
        ]
      },
      "113e8a57-2f83-4ff6-a2c9-eb5858c4669d": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1020,
          "y": 510
        },
        "z": 3,
        "parent": "5ee1e50b-9770-489e-8dc1-2b1f1e865b21",
        "embeds": [],
        "isrelatedto": [
          "b40d7d95-ee6c-4641-9fb1-9c9e4f6cf996"
        ]
      },
      "75820cd9-b537-48be-b19d-ffb2e74adc5b": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 720,
          "y": 810
        },
        "z": 3,
        "parent": "5d605be0-7714-45b8-9331-ba1cc3a73835",
        "embeds": [],
        "isrelatedto": [
          "b40d7d95-ee6c-4641-9fb1-9c9e4f6cf996"
        ]
      },
      "7c1905c1-5594-4efe-9bc0-aca88a8c8193": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 120,
          "y": 810
        },
        "z": 3,
        "parent": "80b6e294-86cc-4ce0-b731-fb7812f4dc36",
        "embeds": [],
        "isrelatedto": [
          "b40d7d95-ee6c-4641-9fb1-9c9e4f6cf996"
        ]
      },
      "068f7247-e3b0-4eb3-a43a-b5886dca03e3": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 720,
          "y": 210
        },
        "z": 3,
        "parent": "5ac7dc50-72dd-435c-8a18-cca06d34af48",
        "embeds": [],
        "isrelatedto": [
          "b40d7d95-ee6c-4641-9fb1-9c9e4f6cf996"
        ]
      },
      "fbcb9ebd-faaa-41c5-aa46-699bd6c03dd5": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1530,
          "y": 930
        },
        "z": 1,
        "embeds": [],
        "isconnectedto": [
          "867173eb-6a0d-4d14-81cd-cc821432c95e"
        ],
        "isassociatedwith": [
          "3086af09-86c7-4796-a581-56069ad48b4a"
        ],
        "dependson": [
          "867173eb-6a0d-4d14-81cd-cc821432c95e"
        ]
      },
      "90ced5bf-9d15-4679-a5f9-85eb70d67bce": {
        "source": {
          "id": "72d918ba-0475-48b7-aec3-60c343815798"
        },
        "target": {
          "id": "867173eb-6a0d-4d14-81cd-cc821432c95e"
        }
      },
      "3fb873b4-1459-48c0-9dc8-e922bb064370": {
        "size": {
          "width": 240,
          "height": 240
        },
        "position": {
          "x": 90,
          "y": 150
        },
        "z": 2,
        "parent": "16b8c254-c340-434d-9162-bf88db85530c",
        "embeds": [
          "89cfccbb-217b-4129-84c6-ddae1ecd05fa"
        ]
      },
      "89cfccbb-217b-4129-84c6-ddae1ecd05fa": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 120,
          "y": 210
        },
        "z": 3,
        "parent": "3fb873b4-1459-48c0-9dc8-e922bb064370",
        "embeds": [],
        "isrelatedto": [
          "a49d1478-f5c2-48d4-8e87-b29452afeae3"
        ]
      },
      "d9a0cdf9-54da-493e-a170-0cb10ed26a57": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1020,
          "y": 810
        },
        "z": 3,
        "parent": "6652e47e-3194-4b21-916a-f40c4ad3dc76",
        "embeds": [],
        "isrelatedto": [
          "89cfccbb-217b-4129-84c6-ddae1ecd05fa"
        ]
      },
      "fd73b22b-b700-4f17-b7b9-1b522402d912": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1020,
          "y": 210
        },
        "z": 3,
        "parent": "2d8a732b-8ff5-4f58-9692-d64af939b022",
        "embeds": [],
        "isrelatedto": [
          "89cfccbb-217b-4129-84c6-ddae1ecd05fa"
        ]
      },
      "3a3e009a-4f2d-4764-944c-de47c264c205": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 420,
          "y": 810
        },
        "z": 3,
        "parent": "6d1a34c6-4c0a-499e-b08a-4ff2b667572d",
        "embeds": [],
        "isrelatedto": [
          "89cfccbb-217b-4129-84c6-ddae1ecd05fa"
        ]
      },
      "6ee74ab0-3ee4-4a00-86a8-9c4e1708d065": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 720,
          "y": 510
        },
        "z": 3,
        "parent": "bf8b56ff-f4d7-4c0d-a453-0122e357d3f7",
        "embeds": [],
        "isrelatedto": [
          "89cfccbb-217b-4129-84c6-ddae1ecd05fa"
        ]
      },
      "dcc816e9-cdd9-42ac-9314-f5da12fb599b": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 420,
          "y": 510
        },
        "z": 3,
        "parent": "a2466831-9c26-49f8-a3da-ff185fa1e8dd",
        "embeds": [],
        "isrelatedto": [
          "89cfccbb-217b-4129-84c6-ddae1ecd05fa"
        ]
      },
      "03708de4-9370-4390-a15d-790bf9dbc1aa": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 1530,
          "y": 1050
        },
        "z": 1,
        "embeds": [],
        "isconnectedto": [
          "3fb873b4-1459-48c0-9dc8-e922bb064370"
        ],
        "isassociatedwith": [
          "b6f10421-aeac-4a14-850f-aa17a027daf0"
        ],
        "dependson": [
          "3fb873b4-1459-48c0-9dc8-e922bb064370"
        ]
      },
      "d47796c2-9182-4c4a-8ee6-96f883b9b9e2": {
        "source": {
          "id": "72d918ba-0475-48b7-aec3-60c343815798"
        },
        "target": {
          "id": "3fb873b4-1459-48c0-9dc8-e922bb064370"
        }
      }
    }
  },
  "Parameters": {
    "Environment": {
      "Description": "Application environment for which this network is being created. e.g. Development/Production",
      "Type": "String",
      "Default": "Development",
      "AllowedValues": [
        "Development",
        "Test",
        "Integration",
        "PreProduction",
        "Production"
      ]
    },
    "InstanceTenancy": {
      "Description": "VPC default for single tenant (dedicated) vs multi-tenant (default) hypervisor. Overrides instance level tenancy option.",
      "Type": "String",
      "Default": "default",
      "AllowedValues": [
        "default",
        "dedicated"
      ],
      "ConstraintDescription": "Must be either 'default' for multi-tenant hypervisor or 'dedicated' for single tenant hypervisor."
    }
  },
  "Mappings": {
    "AWSRegionArchNatAMI": {
      "us-east-1": {
        "64": "ami-4c9e4b24"
      },
      "ap-northeast-1": {
        "64": "ami-55c29e54"
      },
      "sa-east-1": {
        "64": "ami-b972dba4"
      },
      "ap-southeast-1": {
        "64": "ami-b082dae2"
      },
      "ap-southeast-2": {
        "64": "ami-996402a3"
      },
      "us-west-2": {
        "64": "ami-bb69128b"
      },
      "us-west-1": {
        "64": "ami-2b2b296e"
      },
      "eu-central-1": {
        "64": "ami-204c7a3d"
      },
      "eu-west-1": {
        "64": "ami-14913f63"
      }
    },
    "CIDRMapping": {
      "VPC": {
        "CIDR": "172.16.0.0/16"
      },
      "PublicSubnet": {
        "AZ1": "172.16.1.0/24",
        "AZ2": "172.16.2.0/24"
      }
    }
  },
  "Resources": {
    "VPCBase": {
      "Type": "AWS::EC2::VPC",
      "Properties": {
        "CidrBlock": {
          "Fn::FindInMap": [
            "CIDRMapping",
            "VPC",
            "CIDR"
          ]
        },
        "EnableDnsSupport": "True",
        "EnableDnsHostnames": "True",
        "InstanceTenancy": {
          "Ref": "InstanceTenancy"
        },
        "Tags": [
          {
            "Key": "ServiceProvider",
            "Value": "Rackspace"
          },
          {
            "Key": "Name",
            "Value": {
              "Fn::Join": [
                "-",
                [
                  {
                    "Ref": "AWS::StackName"
                  },
                  "VPC"
                ]
              ]
            }
          },
          {
            "Key": "Environment",
            "Value": {
              "Ref": "Environment"
            }
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "16b8c254-c340-434d-9162-bf88db85530c"
        }
      }
    },
    "PublicSubnetAZ1": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "AvailabilityZone": {
          "Fn::Select": [
            "0",
            {
              "Fn::GetAZs": {
                "Ref": "AWS::Region"
              }
            }
          ]
        },
        "CidrBlock": {
          "Fn::FindInMap": [
            "CIDRMapping",
            "PublicSubnet",
            "AZ1"
          ]
        },
        "MapPublicIpOnLaunch": "True",
        "Tags": [
          {
            "Key": "ServiceProvider",
            "Value": "Rackspace"
          },
          {
            "Key": "Name",
            "Value": {
              "Fn::Join": [
                "",
                [
                  {
                    "Ref": "AWS::StackName"
                  },
                  "PublicAZ1"
                ]
              ]
            }
          },
          {
            "Key": "Environment",
            "Value": {
              "Ref": "Environment"
            }
          }
        ],
        "VpcId": {
          "Ref": "VPCBase"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "3fb873b4-1459-48c0-9dc8-e922bb064370"
        }
      }
    },
    "PublicSubnetAZ2": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "AvailabilityZone": {
          "Fn::Select": [
            "1",
            {
              "Fn::GetAZs": {
                "Ref": "AWS::Region"
              }
            }
          ]
        },
        "CidrBlock": {
          "Fn::FindInMap": [
            "CIDRMapping",
            "PublicSubnet",
            "AZ2"
          ]
        },
        "MapPublicIpOnLaunch": "True",
        "Tags": [
          {
            "Key": "ServiceProvider",
            "Value": "Rackspace"
          },
          {
            "Key": "Name",
            "Value": {
              "Fn::Join": [
                "",
                [
                  {
                    "Ref": "AWS::StackName"
                  },
                  "PublicAZ2"
                ]
              ]
            }
          },
          {
            "Key": "Environment",
            "Value": {
              "Ref": "Environment"
            }
          }
        ],
        "VpcId": {
          "Ref": "VPCBase"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "867173eb-6a0d-4d14-81cd-cc821432c95e"
        }
      }
    },
    "IGWBase": {
      "Type": "AWS::EC2::InternetGateway",
      "Properties": {
        "Tags": [
          {
            "Key": "Name",
            "Value": {
              "Fn::Join": [
                "",
                [
                  {
                    "Ref": "AWS::StackName"
                  },
                  "IGW"
                ]
              ]
            }
          },
          {
            "Key": "Environment",
            "Value": {
              "Ref": "Environment"
            }
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "f197e3c9-4245-406d-9a92-1498a8554a95"
        }
      }
    },
    "VGAIGWBase": {
      "Type": "AWS::EC2::VPCGatewayAttachment",
      "Properties": {
        "InternetGatewayId": {
          "Ref": "IGWBase"
        },
        "VpcId": {
          "Ref": "VPCBase"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "7f7d631c-b5ff-4ce5-aaa2-514812209fd2"
        }
      }
    },
    "RouteTablePublic": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "VPCBase"
        },
        "Tags": [
          {
            "Key": "ServiceProvider",
            "Value": "Rackspace"
          },
          {
            "Key": "Name",
            "Value": {
              "Fn::Join": [
                "",
                [
                  {
                    "Ref": "AWS::StackName"
                  },
                  "Public"
                ]
              ]
            }
          },
          {
            "Key": "Environment",
            "Value": {
              "Ref": "Environment"
            }
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "72d918ba-0475-48b7-aec3-60c343815798"
        }
      }
    },
    "RoutePublicDefault": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "RouteTablePublic"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "IGWBase"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "dcd3cafc-eb48-464a-962b-939de0fe4057"
        }
      }
    },
    "RouteAssociationPublicAZ1Default": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "SubnetId": {
          "Ref": "PublicSubnetAZ1"
        },
        "RouteTableId": {
          "Ref": "RouteTablePublic"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "d47796c2-9182-4c4a-8ee6-96f883b9b9e2"
        }
      }
    },
    "RouteAssociationPublicAZ2Default": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "SubnetId": {
          "Ref": "PublicSubnetAZ2"
        },
        "RouteTableId": {
          "Ref": "RouteTablePublic"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "90ced5bf-9d15-4679-a5f9-85eb70d67bce"
        }
      }
    },
    "NATAZ1IP": {
      "Type": "AWS::EC2::EIP",
      "Properties": {
        "Domain": "vpc"
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "a49d1478-f5c2-48d4-8e87-b29452afeae3"
        }
      }
    },
    "NATAZ1": {
      "Type": "AWS::EC2::NatGateway",
      "Properties": {
        "AllocationId": {
          "Fn::GetAtt": [
            "NATAZ1IP",
            "AllocationId"
          ]
        },
        "SubnetId": {
          "Ref": "PublicSubnetAZ1"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "89cfccbb-217b-4129-84c6-ddae1ecd05fa"
        }
      }
    },
    "NATAZ2IP": {
      "Type": "AWS::EC2::EIP",
      "Properties": {
        "Domain": "vpc"
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "d621037c-6af2-4630-bcff-3fcd9536884b"
        }
      }
    },
    "NATAZ2": {
      "Type": "AWS::EC2::NatGateway",
      "Properties": {
        "AllocationId": {
          "Fn::GetAtt": [
            "NATAZ2IP",
            "AllocationId"
          ]
        },
        "SubnetId": {
          "Ref": "PublicSubnetAZ2"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "b40d7d95-ee6c-4641-9fb1-9c9e4f6cf996"
        }
      }
    }
  },
  "Outputs": {
    "outputVPCID": {
      "Value": {
        "Ref": "VPCBase"
      }
    },
    "outputSubnetPublicAZ1": {
      "Value": {
        "Ref": "PublicSubnetAZ1"
      }
    },
    "outputSubnetPublicAZ2": {
      "Value": {
        "Ref": "PublicSubnetAZ2"
      }
    }
  }
}